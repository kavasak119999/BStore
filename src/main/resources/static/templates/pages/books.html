<!DOCTYPE html>
<html lang="RU" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>BStore</title>
</head>
<body>

<div sec:authorize="hasRole('ROLE_ADMIN')">
    <a href="/admin/add_book"> Add book</a>
    <br>
</div>

<a href="/categories"> Categories</a>
<form action="/search" method="post">
    <input type="text" placeholder="Search.." name="param">
    <button type="submit" value="Search"></button>
</form>
<hr/>
<a href="/auth/login">Login</a>
<a href="/auth/registration">Registration</a>
<hr/><br>
<tbody>
<tr th:each="book: ${data}">
    <span>
    <img th:src="@{'data:image/jpg;base64,'+${book.base64Image}}" width="100"
                                 height="150"/> </td> <br>
    Book name: <td th:text="${book.name}"></td><br>
    Author name: <td colspan=4 th:text="${book.author.name}"></td><br>
    Title: <td th:text="${book.title}"></td><br>
    Category: <td th:text="${book.category}"></td><br>
    Price: <td th:text="${book.price}"></td>$<br>
    Count: <td th:text="${book.count}"></td>
    <br><hr/>
    </span>
</tr>
<hr/>
</tbody>
<hr/>
<nav aria-label="Pagination" th:if="${totalPages gt 0}">
    <ul class="pagination justify-content-center font-weight-medium">
        <li class="page-item" th:classappend="${number eq 0} ? 'disabled'">
            <a class="page-link svg-icon"
               th:href="@{/?page={id}(id=${number lt 2 ? 1 : number})}"
               aria-label="Previous"
               title="Previous Page" rel="tooltip">
                <span aria-hidden="true" data-feather="chevrons-left" width="20" height="20"></span>
            </a>
        </li>
        <li class="page-item" th:classappend="${i eq number + 1} ? 'active'"
            th:each="i : ${#numbers.sequence(number + 1, totalPages > 10 + number ? number + 10 : totalPages, 1)}">
            <a class="page-link" th:href="@{/?page={id}(id=${i})}" th:text="${i}"
               th:title="${'Page '+ i}"
               rel="tooltip"></a>
        </li>
        <li class="page-item disabled" th:if="${number + 10 < totalPages}">
            <a class="page-link svg-icon" href="#">
                <span data-feather="more-horizontal" width="20" height="20"></span>
            </a>
        </li>
        <li class="page-item" th:classappend="${number + 1 eq totalPages} ? 'disabled'">
            <a class="page-link svg-icon" th:href="@{/?page={id}(id=${number + 2})}"
               aria-label="Next"
               title="Next Page" rel="tooltip">
                <span aria-hidden="true" data-feather="chevrons-right" width="20" height="20"></span>
            </a>
        </li>
    </ul>
</nav>
<!--<footer style="font-size: large" class="panel-footer">-->
<!--    Total Items [[${totalItems}]] | Page [[${currentPage} + 1]] of [[${totalPages}]] |-->
<!--    <br>-->
<!--    &nbsp; &nbsp; - &nbsp;-->
<!--    <span th:each="i: ${#numbers.sequence(0, totalPages - 1)}">-->
<!--        <a th:href="@{/(page=${i})}" class="nav-link">[[${i} + 1]]</a>-->
<!--        &nbsp; &nbsp;-->
<!--    </span>-->
<!--</footer>-->

</body>
</html>